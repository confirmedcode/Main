{{> header title="Change Password" }}

<body class="text-center">
  
  {{> nav }}
  
  <div class="container mt-4">
    <div class="col-xl-4 offset-xl-4 col-md-6 offset-md-3 col-sm-8 offset-sm-2 text-left">
      
      <h1 class="h5 text-center mt-5">Change Password</h1>
      
      {{> flash }}
      
      <div class="container-fluid p-3 mt-3 confirmed-panel">
        
        <form class="change-password-form" action="/change-password" onsubmit="return validatePasswordMatch()" method="POST">
          <input type="hidden" name="_csrf" value="{{csrfToken}}">
          <p style="font-size: 11px; margin-bottom: 4px;">Current Password</p>
          <div style="margin-bottom: 4px;">
            <input type="password" class="form-control" id="currentPassword" style="width: 100%" name="currentPassword" required>
          </div>
          <p style="font-size: 11px; margin-bottom: 4px;">New Password</p>
          <div style="margin-bottom: 4px;">
            <input type="password" class="form-control" id="newPassword" style="width: 100%" name="newPassword" required>
          </div>
          <p style="font-size: 11px; margin-bottom: 4px;">Verify New Password</p>
          <div style="margin-bottom: 4px;">
            <input type="password" class="form-control" id="verifyPassword" style="width: 100%" required>
          </div>
          <button id="changePasswordButton" type="submit" class="btn confirmed-blue-btn btn-sm text-white btn-block mt-2">Submit Change</button>
        </form>
        
        <a href="/account" id="backButton" class="btn confirmed-gray-btn btn-sm text-white btn-block mt-2">Cancel</a>
        
      </div>
      
    </div>
  </div>
  
  <script>
    function validatePasswordMatch() {
      if (document.getElementById("newPassword").value != document.getElementById("verifyPassword").value) {
        bootbox.alert("Passwords must match.");
        return false;
      }
      else {
        return true;
      }
    }
  </script>
  
  {{> footer}}

  {{> bootstrapjs}}
  
  <script src="/js/bootbox.min.js"></script>
    
</body>
